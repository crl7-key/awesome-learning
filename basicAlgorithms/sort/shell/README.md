# Shell_sort

希尔(`Shell`)排序又称为缩小增量排序,它是一种插入排序。它是直接插入排序算法的一种更高效的改进版本。但希尔排序是非稳定排序算法。

希尔排序,也称递减增量排序算法，以其设计者希尔（`Donald Shell`）的名字命名,该算法由`1959`年公布。

希尔排序的基本思想是：先将整个待排序的记录序列分割成为若干子序列分别进行直接插入排序，待整个序列中的记录"基本有序"时，再对全体记录进行依次直接插入排序。

例如：    
有这样一组数 `{13, 14, 94, 33, 82, 25, 59, 94, 65, 23, 45, 27, 73, 25, 39, 10}`,如果我们以步长为`5`开始进行排序：   
```
13 14 94 33 82
25 59 94 65 23
45 27 73 25 39
10
```
然后我们对每列进行排序：
```
10 14 73 25 23
13 27 94 33 39
25 59 94 65 82
45
```
将上述四行数字,依序接在一起时我们得到：`[ 10 14 73 25 23 13 27 94 33 39 25 59 94 65 82 45 ]`这时`10`已经移至正确位置了，然后再以`3`为步长进行排序：
```
10 14 13
25 23 33
27 25 59
39 65 73
45 94 82
94
```
最后以`1`步长进行排序（此时就是简单的插入排序了）



```c++
template<class T>
void shellSort(T arr[],int len ) {
    int h = 1;
    while(h < len/3 )
        // 计算步长的增量并按步长分组
        h = 3 * h + 1;

    while(h >= 1) {
        for( int i = h; i < len; i++ ) {
            //对 arr[i],arr[i-h],arr[i-2*h],arr[i-3*h]使用插入算法
            T tmp = arr[i];
            int j;
            for ( j = i; j >= h && tmp < arr[j-h];j -= h )
                arr[j] = arr[j-h];
            arr[j] = tmp;
        }
        h /= 3;
    }
}
```




